<!doctype html>
<html lang="it">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Magic Enchant — Incantesimi 5e</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header class="topbar">
      <div class="brand">
        <span class="logo">✨</span>
        <div>
          <h1>Magic Enchant</h1>
          <p>Gestione incantesimi D&amp;D 5e</p>
        </div>
      </div>
      <div class="nav">
        <button id="showCreatePg" class="tab active">Crea PG</button>
        <button id="showPg" class="tab">PG</button>
        <button id="showSpells" class="tab">Incantesimi</button>
      </div>
    </header>

    <main>
      <section id="createPgSection" class="page">
        <div class="page-header">
          <h2>Crea il tuo PG</h2>
          <p>Imposta nome, classe, sottoclasse e livello.</p>
        </div>
        <div class="panel">
          <h3>Profilo PG</h3>
          <div class="pg-form">
            <label>
              Nome
              <input id="pgName" type="text" placeholder="Es. Elowen" />
            </label>
            <label>
              Classe
              <select id="pgClass">
                <option value="">—</option>
                <option value="bardo">Bardo</option>
                <option value="chierico">Chierico</option>
                <option value="druido">Druido</option>
                <option value="mago">Mago</option>
                <option value="paladino">Paladino</option>
                <option value="ranger">Ranger</option>
                <option value="stregone">Stregone</option>
                <option value="warlock">Warlock</option>
                <option value="artefice">Artefice</option>
                <option value="altro">Altro</option>
              </select>
            </label>
            <label>
              Sottoclasse
              <input id="pgSubclass" type="text" placeholder="Es. Evocazione" />
            </label>
            <label>
              Livello
              <select id="pgLevel"></select>
            </label>
            <button id="savePg" class="primary">Salva PG</button>
          </div>
        </div>
      </section>

      <section id="pgSection" class="page hidden">
        <div class="page-header">
          <h2>Pagina del PG</h2>
          <p>Controlla il profilo e gli incantesimi conosciuti.</p>
        </div>

        <div class="pg-grid">
          <div class="panel">
            <h3>Profilo</h3>
            <div class="pg-summary">
              <div>
                <span class="label">Nome</span>
                <strong id="pgSummaryName">—</strong>
              </div>
              <div>
                <span class="label">Classe</span>
                <strong id="pgSummaryClass">—</strong>
              </div>
              <div>
                <span class="label">Sottoclasse</span>
                <strong id="pgSummarySubclass">—</strong>
              </div>
              <div>
                <span class="label">Livello</span>
                <strong id="pgSummaryLevel">—</strong>
              </div>
            </div>
          </div>

          <div class="panel">
            <h3>Slot disponibili</h3>
            <div id="slotsPanel" class="slots"></div>
          </div>

          <div class="panel">
            <h3>Incantesimi conosciuti</h3>
            <ul id="knownList" class="known-list"></ul>
          </div>
        </div>
      </section>

      <section id="spellsSection" class="page hidden">
        <section class="filters">
          <div class="simple-filters">
            <input id="searchInput" type="search" placeholder="Cerca incantesimo" />
            <select id="levelFilter">
              <option value="">Tutti i livelli</option>
              <option value="0">Trucchetto</option>
              <option value="1">1°</option>
              <option value="2">2°</option>
              <option value="3">3°</option>
              <option value="4">4°</option>
              <option value="5">5°</option>
              <option value="6">6°</option>
              <option value="7">7°</option>
              <option value="8">8°</option>
              <option value="9">9°</option>
            </select>
            <select id="classFilter">
              <option value="">Tutte le classi</option>
              <option value="bardo">Bardo</option>
              <option value="chierico">Chierico</option>
              <option value="druido">Druido</option>
              <option value="mago">Mago</option>
              <option value="paladino">Paladino</option>
              <option value="ranger">Ranger</option>
              <option value="stregone">Stregone</option>
              <option value="warlock">Warlock</option>
              <option value="artefice">Artefice</option>
            </select>
            <button id="toggleAdvanced" class="ghost">Filtri avanzati</button>
          </div>

          <div id="advancedFilters" class="advanced hidden">
            <div class="filter-group">
              <label>Scuola</label>
              <select id="schoolFilter">
                <option value="">Tutte</option>
                <option value="abiurazione">Abiurazione</option>
                <option value="ammaliamento">Ammaliamento</option>
                <option value="divinazione">Divinazione</option>
                <option value="evocazione">Evocazione</option>
                <option value="illusione">Illusione</option>
                <option value="invocazione">Invocazione</option>
                <option value="necromanzia">Necromanzia</option>
                <option value="trasmutazione">Trasmutazione</option>
              </select>
            </div>
            <div class="filter-group">
              <label>Rituale</label>
              <select id="ritualFilter">
                <option value="">Qualsiasi</option>
                <option value="true">Sì</option>
                <option value="false">No</option>
              </select>
            </div>
            <div class="filter-group">
              <label>Concentrazione</label>
              <select id="concentrationFilter">
                <option value="">Qualsiasi</option>
                <option value="true">Sì</option>
                <option value="false">No</option>
              </select>
            </div>
            <div class="filter-group">
              <label>Componente</label>
              <select id="componentFilter">
                <option value="">Qualsiasi</option>
                <option value="V">V</option>
                <option value="S">S</option>
                <option value="M">M</option>
              </select>
            </div>
          </div>
        </section>

        <section class="spells">
          <h2>Compendio</h2>
          <div id="spellsList" class="cards"></div>
        </section>
      </section>
    </main>

    <div id="spellModal" class="modal hidden" aria-hidden="true">
      <div class="modal-backdrop" data-close="true"></div>
      <div class="modal-card" role="dialog" aria-modal="true">
        <button class="modal-close" data-close="true">×</button>
        <h3 id="modalTitle">Incantesimo</h3>
        <p id="modalMeta" class="meta"></p>
        <p id="modalDescription" class="modal-body"></p>
        <p id="modalHigher" class="modal-body"></p>
      </div>
    </div>

    <script src="app.js"></script>
  </body>
</html>
